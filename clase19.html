<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formularios</title>
    <style>
        table {
            text-align: center;
            background-color: #F96;
            width: 25%;
            margin: 0 auto;
            margin-top: 30px;
            border: 2px #F30 dashed;
        }

        td {
            padding: 15px;
        }
    </style>
    <script>
        var edad;

        function comenzar(){
            edad = document.getElementById('edad');

            edad.addEventListener('change', cambia_rango, false);

            document.registro.addEventListener('invalid', validar, true);

            document.getElementById('registrar').addEventListener('click', enviar, false);

            document.registro.addEventListener('input', validar_tiempo_real, false);
            

        }

        function cambia_rango(){

            var salida = document.getElementById('rango');

            var calculo = edad.value - 30;

            if(calculo < 30){
                calculo = 0;

                edad.value = 30;
            }

            salida.innerHTML = calculo + ' a ' + edad.value;

        }

        function validar(e){

            var elemento = e.target;
            elemento.style.background = '#FFDDDD';

        }

        function enviar(){
            
            var correcto = document.registro.checkValidity();

            if(correcto == true){
                document.registro.submit();
            }

        }

        function validar_tiempo_real(e){
            var elemento = e.target;

            if(elemento.validity.valid == true){
                elemento.style.background = '#FFFFFF';
            }else{
                elemento.style.background = '#FFDDDD';
            }
        }


        window.addEventListener('load', comenzar, false);
    </script>
</head>
<body>
    <section>
        <form name="registro" method="get" autocomplete="off">
            <table>
                <tr>
                    <td>Nombre:</td>
                    <td><input type="text" name="nombre" id="nombre" required></td>
                </tr>
                <tr>
                    <td>Email:</td>
                    <td><input type="email" name="email" id="email" required></td>
                </tr>
                <tr>
                    <td>Edad:</td>
                    <td><input type="range" name="edad" id="edad" min="0" max=130" value="30" step="30"></td>
                </tr>
                <tr>
                    <td><output id="rango">0 a 30</output></td>
                </tr>
                <!--
                <tr>
                    <td>Países:</td>
                    <td>
                        <select name="paises" id="">
                            <option value="México">México</option>
                            <option value="Estados Unidos">Estados Unidos</option>
                            <option value="Colombia">Colombia</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Sexo:</td>
                    <td>
                        Masculino: <input type="radio" name="sexo" id="sexo">
                        Femenino: <input type="radio" name="sexo" id="sexo">
                    </td>
                </tr>
                <tr>
                    <td>Lenguajes:</td>
                    <td>
                        PHP: <input type="checkbox" name="php" id="lenguaje">
                        JavaScript: <input type="checkbox" name="JavaScript" id="lenguaje">
                        Java: <input type="checkbox" name="java" id="lenguaje">
                    </td>
                </tr>
                -->
                <tr>
                    <td><input type="submit" id="registrar" value="Registrar"></td>
                </tr>
            </table>
        </form>
    </section>
</body>
</html>